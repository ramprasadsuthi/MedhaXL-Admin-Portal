<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../CSS/batchpayments.css">
    <script src="../backend/middleware/tokenvalidity.js"></script>

</head>

<body>

    <!-- Header -->
    <header class="header">
        <!-- Left: Logo -->
        <div class="logo">
            <img src="../img/Medhalogo.png" alt="Medhalogo">
        </div>

        <!-- Right: Menu, Notifications, Profile -->
        <div class="right-section">
            <span class="menu-icon material-icons">menu</span>

            <!-- Notification Icon -->
            <div class="notification-icon">
                <span class="material-icons">notifications</span>
                <span class="badge">3</span> <!-- Badge for new notifications -->
                <div class="notification-dropdown">
                    <p>No new notifications</p>
                </div>
            </div>

            <!-- Profile Icon -->
            <div class="profile-icon">
                <span class="material-icons">account_circle</span>
                <div class="profile-dropdown">
                    <a href="#"><span class="material-icons">account_circle</span> Profile</a>
                    <a href="#"><span class="material-icons">settings</span> Settings</a>
                    <a href="loginpage.html"><span class="material-icons">logout</span> Logout</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <a href="Dashboard.html"><span class="material-icons">dashboard</span> Home</a>

        <div class="dropdown-menu students-menu">
            <a><span class="material-icons">person</span> Students</a>
            <span class="material-icons toggle-icon students-toggle">expand_more</span>
        </div>
        <div class="submenu students-submenu">
            <a href="studentform.html"><span class="material-icons">group_add</span> Add Student</a>
            <a href="viewstudent.html"><span class="material-icons">visibility</span> View Students</a>
        </div>

        <div class="dropdown-menu courses-menu">
            <a><span class="material-icons">menu_book</span> Courses</a>
            <span class="material-icons toggle-icon courses-toggle">expand_more</span>
        </div>
        <div class="submenu courses-submenu">
            <a href="addcourses.html">
                <span class="material-icons">playlist_add</span> Courses Add & View
            </a>
        </div>

        <div class="dropdown-menu Batches-menu">
            <a href="#"><span class="material-icons">library_books</span> Batches</a>
            <span class="material-icons toggle-icon Batches-toggle">expand_more</span>
        </div>
        <div class="submenu Batches-submenu">
            <a href="addbatch.html"><span class="material-icons"><span class="material-symbols-outlined">
                        how_to_reg
                    </span></span> Add Batches</a>
            <a href="updateBatchStatus.html"><span class="material-icons">visibility</span> View Batches</a>
        </div>

        <div class="dropdown-menu trainers-menu">
            <a><span class="material-icons">group</span> Trainers</a>
            <span class="material-icons toggle-icon trainers-toggle">expand_more</span>
        </div>
        <div class="submenu trainers-submenu">
            <a href="addtrainer.html"><span class="material-icons"><span class="material-symbols-outlined">
                        person_add
                    </span></span> Add Trainer</a>
            <a href="#"><span class="material-icons">visibility</span> View Trainers</a>
        </div>

        <div class="dropdown-menu certificate-menu">
            <a><span class="material-icons">workspace_premium</span> Certifications</a>
            <span class="material-icons toggle-icon certificate-toggle">expand_more</span>
        </div>
        <div class="submenu certificate-submenu">
            <a href="certificate.html">
                <span class="material-icons">military_tech</span> Certificate Add & View
            </a>
        </div>

        <div class="dropdown-menu FInance-menu">
            <a><span class="material-icons">stacked_line_chart</span> FInance</a>
            <span class="material-icons toggle-icon FInance-toggle">expand_more</span>
        </div>
        <div class="submenu FInance-submenu">
            <a href="batchpayments.html"><span class="material-icons"><span class="material-symbols-outlined">
                        payments
                    </span></span> Batch Payments</a>
            <a href="dailytransactions.html"><span class="material-icons">visibility</span> Daily Payments</a>
        </div>

        <a href="#"><span class="material-icons">analytics</span> Analytics</a>
        <a href="#"><span class="material-icons">notifications</span> Notifications</a>
        <a href="#"><span class="material-icons">settings</span> Settings</a>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="daily-payments">
            <h2>Batch Payments</h2>
            <div class="batch-selection">
        
                <!-- Status Dropdown -->
                <div class="form-group">
                    <label for="BatchStatus">Status:</label>
                    <select id="BatchStatus" onchange="loadBatchCodes()">
                        <option value="">Select Status</option>
                    </select>
                </div>
        
                <!-- Batch Code Dropdown -->
                <div class="form-group">
                    <label for="BatchCode">Batch Code:</label>
                    <select id="BatchCode">
                        <option value="">Select Batch</option>
                    </select>
                </div>
        
                <!-- Get Data Button -->
                <div class="form-group">
                    <button onclick="getDetails()">Get Details</button>
                </div>
        
            </div>
        </div>
        
        <table>
            <thead>
                <tr>
                    <th>Student ID</th>
                    <th>Batch Code</th>
                    <th>Course</th>
                    <th>Name</th>
                    <th>Phone</th>
                    <th>Course Fee</th>
                    <th>Discount Applied</th>
                    <th>Total Fee</th>
                    <th>Pay</th>
                    <th>Total Due</th>
                    <th>Action</th>
                    <th>Get Terms</th>
                </tr>
            </thead>
            <tbody id="studentTableBody" style="font-size: 12px;"></tbody>
        </table>
        </div>
    </main>

    <!-- Modal Styling -->
    <!-- Modal to Display Transaction Data -->
    <div id="termsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Transaction Details</h2>
            <table>
                <thead>
                    <tr>
                        <th>Term</th>
                        <th>Name</th>
                        <th>Amount Paid</th>
                        <th>Paid Date</th>
                    </tr>
                </thead>
                <tbody id="termsTableBody"></tbody>
            </table>
        </div>
    </div>
    <script src="../JS/batchpayments.js"></script>

</body>

</html>